(this["webpackJsonptripper-admin-pannel"]=this["webpackJsonptripper-admin-pannel"]||[]).push([[31],{722:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(709),a=n(710),o=n(769),s=n.n(o),c=n(741),l=n.n(c);function i(e,t,n){return u.apply(this,arguments)}function u(){return u=Object(a.a)(Object(r.a)().mark((function e(t,n,a){var o,c,i,u,d,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:null,c=p.length>4&&void 0!==p[4]?p[4]:null,i=l.a.API_URL+n,u={method:t,url:i},null!==o&&(u.headers=o),null!==c&&(u.params=c),"post"!==t&&"put"!==t&&"delete"!==t&&"patch"!==t||(u.data=a),console.log("Query after header & params: ",u),e.next=10,s()(u);case 10:return d=e.sent,console.log("response from axios received: "),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}},741:function(e,t){e.exports={API_URL:"http://3.140.153.110:4100"}},748:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return i}));var r=n(722),a=n(14);function o(){return function(e){return new Promise((function(t,n){e({type:a.z});var o=localStorage.getItem("auth");o?Object(r.a)("get","/user/session",null,{Authorization:"Bearer ".concat(o)}).then((function(n){console.log("ME RESPONSE =>>>",n),e({type:a.n,data:n.data}),t(n.data)})).catch((function(e){console.log("ME RESPONSE Error =>>>",e.response),n(e.response)})).finally((function(){e({type:a.o})})):e({type:a.r})}))}}function s(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/admin/login",e).then((function(e){console.log("LOGIN ADMIN RESPONSE =>>>",e),t({type:a.q,data:e.data.data?e.data.data:e.data}),localStorage.setItem("auth",e.data.data.authToken),n(e.data.data)})).catch((function(e){console.log("LOGIN ADMIN RESPONSE Error =>>>",e),t({type:a.p}),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function c(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/user/forgot/password",e).then((function(e){console.log("forgot password RESPONSE =>>>",e),n(e.data)})).catch((function(e){console.log("forgot password RESPONSE Error =>>>",e),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function l(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/user/reset/password",e).then((function(e){console.log("RESET password RESPONSE =>>>",e),n(e.data.data)})).catch((function(e){console.log("RESET password RESPONSE Error =>>>",e),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function i(e){return function(e){return new Promise((function(t,n){e({type:a.r}),t()}))}}},764:function(e,t,n){"use strict";t.a=n.p+"static/media/Logoblue.7909d40d.png"},992:function(e,t,n){"use strict";n.r(t);var r=n(709),a=n(710),o=n(194),s=n(2),c=n(697),l=n(1),i=n(202),u=n(75),d=n(748),p=n(701),f=n(706),b=n(764),j=n(983),h=n(22);t.default=Object(i.b)(null,(function(e){return{actions:Object(u.b)({_resetPassword:function(e){return Object(d.e)(e)}},e)}}))((function(e){console.log(e,"props===========");var t=Object(l.useState)({password:"",confirmPassword:""}),n=Object(c.a)(t,2),i=n[0],u=n[1],d=Object(l.useState)(null),m=Object(c.a)(d,2),O=m[0],g=m[1],w=Object(l.useState)(null),x=Object(c.a)(w,2),y=x[0],P=x[1],v=function(e){g(null),u(Object(s.a)(Object(s.a)({},i),{},Object(o.a)({},e.target.name,e.target.value))),P(null)},E=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){var n,a,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(null),t.prev=1,n=e.location.search,console.log("query",n),n){t.next=7;break}return console.log("1-----------------",n),t.abrupt("return",j.a.error({message:"Invalid link",description:"You opened invalid link.",duration:3,placement:"bottomRight"}));case 7:if(!((n=n.substring(1).split("=")).length>2||"recoveryToken"!==n[0])){t.next=11;break}return console.log("2-----------------",n),t.abrupt("return",j.a.error({message:"Invalid link",description:"You opened invalid link.",duration:3,placement:"bottomRight"}));case 11:if(console.log("query==========?",n),a={password:i.password,recoveryToken:n[1]},i.password===i.confirmPassword){t.next=15;break}return t.abrupt("return",P("Confirm password & new password must match"));case 15:if(S){t.next=17;break}return t.abrupt("return",P("Password must contain eight characters, at least one letter, one number and one special character"));case 17:return t.next=19,e.actions._resetPassword(a);case 19:o=t.sent,console.log("=======Response password",o),j.a.success({message:"Password Reset",description:"Your password has been reset please login.",duration:3}),e.history.replace("/login"),g(null),t.next=30;break;case 26:t.prev=26,t.t0=t.catch(1),console.log("reset error",t.t0),g(t.t0.data?t.t0.data.message:t.t0);case 30:case"end":return t.stop()}}),t,null,[[1,26]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=new RegExp(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/);return i.password.match(e)?(console.log("passowrd validate"),!0):(console.log("failed"),!1)};return Object(h.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(h.jsx)(p.w,{children:Object(h.jsx)(p.ub,{className:"justify-content-center",children:Object(h.jsx)(p.u,{md:"5",children:Object(h.jsx)(p.m,{children:Object(h.jsx)(p.j,{className:"p-4",children:Object(h.jsxs)(p.k,{children:[Object(h.jsx)(p.P,{src:b.a,fluid:!0,className:"c-sidebar-brand-full",style:{width:"170px",height:"70px",padding:"5px 0px"}}),Object(h.jsxs)(p.J,{children:[Object(h.jsx)("p",{className:"text-muted",children:"Reset Password"}),Object(h.jsxs)(p.T,{className:"mb-4",children:[Object(h.jsx)(p.V,{children:Object(h.jsx)(p.W,{children:Object(h.jsx)(f.a,{name:"cil-lock-locked"})})}),Object(h.jsx)(p.Q,{type:"password",onChange:v,name:"password",value:i.userPassword,placeholder:"New Password",autoComplete:"current-password"})]}),Object(h.jsxs)(p.T,{className:"mb-4",children:[Object(h.jsx)(p.V,{children:Object(h.jsx)(p.W,{children:Object(h.jsx)(f.a,{name:"cil-lock-locked"})})}),Object(h.jsx)(p.Q,{type:"password",onChange:v,name:"confirmPassword",value:i.userPassword,placeholder:"Confirm Password",autoComplete:"current-password"})]}),Object(h.jsx)(p.ub,{children:Object(h.jsx)(p.u,{xs:"6",children:Object(h.jsx)(p.f,{color:"primary",onClick:E,className:"px-4",disabled:(console.log(i),i.password!==i.confirmPassword),children:"Reset Password"})})}),Object(h.jsx)(p.ub,{children:Object(h.jsx)(p.u,{xs:"12",children:Object(h.jsx)("span",{style:{fontSize:"11px",color:"gray"},children:"Password must contain eight characters, at least one letter, one number and one special character"})})})]}),O&&Object(h.jsx)(p.a,{style:{marginTop:"10px"},color:"danger",children:O}),y&&Object(h.jsx)(p.a,{style:{marginTop:"10px"},color:"danger",children:y})]})})})})})})})}))}}]);
//# sourceMappingURL=31.ffe276de.chunk.js.map