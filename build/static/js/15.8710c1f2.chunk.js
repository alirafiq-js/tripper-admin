(this["webpackJsonptripper-admin-pannel"]=this["webpackJsonptripper-admin-pannel"]||[]).push([[15],{697:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(707);var a=n(201),o=n(708);function c(e,t){return Object(r.a)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(i){s=!0,a=i}finally{try{c||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||Object(a.a)(e,t)||Object(o.a)()}},707:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},708:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},722:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(709),a=n(710),o=n(769),c=n.n(o),s=n(741),i=n.n(s);function u(e,t,n){return l.apply(this,arguments)}function l(){return l=Object(a.a)(Object(r.a)().mark((function e(t,n,a){var o,s,u,l,d,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:null,s=p.length>4&&void 0!==p[4]?p[4]:null,u=i.a.API_URL+n,l={method:t,url:u},null!==o&&(l.headers=o),null!==s&&(l.params=s),"post"!==t&&"put"!==t&&"delete"!==t&&"patch"!==t||(l.data=a),console.log("Query after header & params: ",l),e.next=10,c()(l);case 10:return d=e.sent,console.log("response from axios received: "),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},741:function(e,t){e.exports={API_URL:"http://3.140.153.110:4100"}},748:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return u}));var r=n(722),a=n(14);function o(){return function(e){return new Promise((function(t,n){e({type:a.z});var o=localStorage.getItem("auth");o?Object(r.a)("get","/user/session",null,{Authorization:"Bearer ".concat(o)}).then((function(n){console.log("ME RESPONSE =>>>",n),e({type:a.n,data:n.data}),t(n.data)})).catch((function(e){console.log("ME RESPONSE Error =>>>",e.response),n(e.response)})).finally((function(){e({type:a.o})})):e({type:a.r})}))}}function c(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/admin/login",e).then((function(e){console.log("LOGIN ADMIN RESPONSE =>>>",e),t({type:a.q,data:e.data.data?e.data.data:e.data}),localStorage.setItem("auth",e.data.data.authToken),n(e.data.data)})).catch((function(e){console.log("LOGIN ADMIN RESPONSE Error =>>>",e),t({type:a.p}),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function s(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/user/forgot/password",e).then((function(e){console.log("forgot password RESPONSE =>>>",e),n(e.data)})).catch((function(e){console.log("forgot password RESPONSE Error =>>>",e),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function i(e){return function(t){return new Promise((function(n,o){t({type:a.z}),Object(r.a)("post","/user/reset/password",e).then((function(e){console.log("RESET password RESPONSE =>>>",e),n(e.data.data)})).catch((function(e){console.log("RESET password RESPONSE Error =>>>",e),o(e.response)})).finally((function(){t({type:a.o})}))}))}}function u(e){return function(e){return new Promise((function(t,n){e({type:a.r}),t()}))}}},764:function(e,t,n){"use strict";t.a=n.p+"static/media/Logoblue.7909d40d.png"},990:function(e,t,n){"use strict";n.r(t);var r=n(709),a=n(710),o=n(194),c=n(2),s=n(697),i=n(1),u=n(202),l=n(75),d=n(748),p=n(701),f=n(706),j=n(764),b=n(22);t.default=Object(u.b)(null,(function(e){return{actions:Object(l.b)({_login:function(e){return Object(d.c)(e)}},e)}}))((function(e){var t=Object(i.useState)({userEmail:"",userPassword:""}),n=Object(s.a)(t,2),u=n[0],l=n[1],d=Object(i.useState)(!1),h=Object(s.a)(d,2),O=h[0],m=h[1],x=function(e){m(!1),l(Object(c.a)(Object(c.a)({},u),{},Object(o.a)({},e.target.name,e.target.value)))},g=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){var n,a;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),t.prev=1,n={email:u.userEmail,password:u.userPassword},t.next=5,e.actions._login(n);case 5:a=t.sent,console.log("=======Response login",a),e.history.replace("/dashboard"),m(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Login error",t.t0),m(!0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(b.jsx)(p.w,{children:Object(b.jsx)(p.ub,{className:"justify-content-center",children:Object(b.jsx)(p.u,{md:"5",children:Object(b.jsx)(p.m,{children:Object(b.jsx)(p.j,{className:"p-4",children:Object(b.jsxs)(p.k,{children:[Object(b.jsx)(p.P,{src:j.a,fluid:!0,className:"c-sidebar-brand-full",style:{width:"170px",height:"70px",padding:"5px 0px"}}),Object(b.jsxs)(p.J,{children:[Object(b.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(b.jsxs)(p.T,{className:"mb-3",children:[Object(b.jsx)(p.V,{children:Object(b.jsx)(p.W,{children:Object(b.jsx)(f.a,{name:"cil-envelope-closed"})})}),Object(b.jsx)(p.Q,{type:"email",value:u.userEmail,onChange:x,name:"userEmail",placeholder:"Email",autoComplete:"email"})]}),Object(b.jsxs)(p.T,{className:"mb-4",children:[Object(b.jsx)(p.V,{children:Object(b.jsx)(p.W,{children:Object(b.jsx)(f.a,{name:"cil-lock-locked"})})}),Object(b.jsx)(p.Q,{type:"password",onChange:x,name:"userPassword",value:u.userPassword,placeholder:"Password",autoComplete:"current-password"})]}),Object(b.jsxs)(p.ub,{children:[Object(b.jsx)(p.u,{xs:"6",children:Object(b.jsx)(p.f,{color:"primary",onClick:g,className:"px-4",children:"Login"})}),Object(b.jsx)(p.u,{xs:"6",className:"text-right",children:Object(b.jsx)(p.f,{color:"link",className:"px-0",onClick:function(){return e.history.push("/forgotPassword")},children:"Forgot password?"})})]})]}),O&&Object(b.jsx)(p.a,{style:{marginTop:"10px"},color:"danger",children:"Invalid email or password"})]})})})})})})})}))}}]);
//# sourceMappingURL=15.8710c1f2.chunk.js.map